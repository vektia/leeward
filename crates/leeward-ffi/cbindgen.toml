# cbindgen configuration for leeward C FFI
# Docs: https://github.com/mozilla/cbindgen/blob/master/docs.md

language = "C"
header = """
/*
 * leeward - Linux-native sandbox for untrusted code execution
 * 
 * Auto-generated by cbindgen. Do not edit manually.
 * 
 * Usage:
 *   #include <leeward.h>
 *   
 *   LeewardHandle* handle = leeward_connect("/var/run/leeward.sock");
 *   LeewardResult* result = leeward_execute(handle, "print('hello')", NULL);
 *   printf("%s", result->stdout_data);
 *   leeward_result_free(result);
 *   leeward_disconnect(handle);
 */
"""
include_guard = "LEEWARD_H"
autogen_warning = "/* Warning: this file is autogenerated by cbindgen. Don't modify this manually. */"
include_version = true
namespace = ""
cpp_compat = true

[export]
prefix = "Leeward"
include = []
exclude = []
item_types = ["functions", "types", "enums", "structs", "constants"]

[export.rename]
# Renomeia tipos se necessário

[fn]
# Configuração de funções
rename_args = "SnakeCase"
sort_by = "None"

[struct]
rename_fields = "SnakeCase"
derive_constructor = false
derive_eq = false
derive_neq = false
derive_lt = false
derive_lte = false
derive_gt = false
derive_gte = false

[enum]
rename_variants = "ScreamingSnakeCase"
prefix_with_name = true

[const]
allow_static_const = true

[parse]
parse_deps = false
clean = false

[parse.expand]
crates = ["leeward-ffi"]
